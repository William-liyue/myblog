<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>资源管理</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../lib/layui-v2.6.8/layui/css/layui.css">
    <link rel="stylesheet" href="../../css/style.css" th:href="@{css/style.css}">
</head>
<body>

<!--中间内容-->
<div class="container">
    <div class="row">
        <div class="layui-layout layui-layout-admin">
            <div class="layui-header layui-bg-green">
                <div class="layui-logo layui-hide-xs layui-bg-black">后台管理</div>
                <!--导航栏-->
                <ul class="layui-nav layui-layout-left">
                    <!--移动端显示-->
                    <li class="layui-nav-item layui-show-xs-inline-block layui-hide-sm" lay-hander-event="menuLeft">
                        <i class="layui-icon layui-icon-spread-left"></i>
                    </li>
                    <li class="layui-nav-item layui-hide-xs"><a href="#" th:href="@{/admin/Admin}">首页</a></li>
                    <li class="layui-nav-item layui-hide-xs"><a href="#" th:href="@{/admin/blogs}">文章管理</a></li>
                    <li class="layui-nav-item layui-hide-xs"><a href="#" th:href="@{/admin/types}">分类管理</a></li>
                    <li class="layui-nav-item layui-hide-xs"><a href="#" th:href="@{/admin/friendlinks}">友链</a></li>
                    <li class="layui-nav-item">
                        <a href="#" th:href="@{/admin/resources}">资源管理</a>
                        <dl class="layui-nav-child">
                            <dd><a href="#" th:href="@{/admin/resources/input}">新增</a></dd>
                        </dl>
                    </li>
                    <li class="layui-nav-item">
                        <a href="javascript:;">nav groups</a>
                        <dl class="layui-nav-child">
                            <dd><a href="">menu 11</a></dd>
                            <dd><a href="">menu 22</a></dd>
                            <dd><a href="">menu 33</a></dd>
                        </dl>
                    </li>
                </ul>
                <ul class="layui-nav layui-layout-right">
                    <li class="layui-nav-item layui-hide layui-show-md-inline-block">
                        <a href="javascript:;">
                            <img src="//tva1.sinaimg.cn/crop.0.0.118.118.180/5db11ff4gw1e77d3nqrv8j203b03cweg.jpg" class="layui-nav-img">
                            tester
                        </a>
                        <dl class="layui-nav-child">
                            <dd><a href="">Your Profile</a></dd>
                            <dd><a href="">设置</a></dd>
                            <dd><a href="">退出登录</a></dd>
                        </dl>
                    </li>
                    <li class="layui-nav-item" lay-header-event="menuRight" lay-unselect>
                        <a href="javascript:;">
                            <i class="layui-icon layui-icon-more-vertical"></i>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="layui-side layui-bg-black">
                <div class="layui-side-scroll">
                    <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
                    <ul class="layui-nav layui-nav-tree layui-menu-item-down" lay-filter="test">
                        <li class="layui-nav-item layui-nav-itemed">
                            <a class="" href="javascript:;">menu group 1</a>
                            <dl class="layui-nav-child">
                                <dd><a href="javascript:;">menu 1</a></dd>
                                <dd><a href="javascript:;">menu 2</a></dd>
                                <dd><a href="javascript:;">menu 3</a></dd>
                                <dd><a href="">the links</a></dd>
                            </dl>
                        </li>
                        <li class="layui-nav-item">
                            <a href="javascript:;">menu group 2</a>
                            <dl class="layui-nav-child">
                                <dd><a href="javascript:;">list 1</a></dd>
                                <dd><a href="javascript:;">list 2</a></dd>
                                <dd><a href="">超链接</a></dd>
                            </dl>
                        </li>
                        <li class="layui-nav-item"><a href="javascript:;">click menu item</a></li>
                        <li class="layui-nav-item"><a href="">the links</a></li>
                    </ul>
                </div>
            </div>
            <div class="layui-body">
                <!-- 内容主体区域 -->
                <div id="success" class="layui-container layui-col-lg9" th:unless="${#strings.isEmpty(message)}" >
                    <div class="">
                        <a href="#" th:href="@{/admin/resources/input}" class="active">
                            <button type="button" class="layui-btn layui-btn-danger">新增</button>
                        </a>
                        <a href="#" th:href="@{/admin/resources}">
                            <button type="button" class="layui-btn">列表</button>
                        </a>
                    </div>
                </div>
                <div class="layui-form-item message" th:unless="${#strings.isEmpty(message)}">
                    <div class="text-center text-white" th:text="|提示： ${message}">提示：恭喜，操作成功！</div>
                </div>
                <table class="text-center table table-striped table-sm">
                    <thead>
                    <tr class="text-center">
                        <th scope="col">ID</th>
                        <th scope="col">资源名称</th>
                        <th scope="col">资源地址</th>
                        <th scope="col">添加地址</th>
                        <th scope="col">添加类别</th>
                        <th scope="col">操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="text-center" th:each="resource,iterStat : ${pageInfo.list}">
                        <td th:text="${iterStat.count}"></td>
                        <td th:text="${resource.resourceName}"></td>
                        <td th:text="${resource.resourceAddress}"></td>
                        <td th:text="${resource.firstResource}"></td>
                        <td th:text="${resource.secondResource}"></td>
                        <td>
                            <a href="#" th:href="@{/admin/resources/{id}/input(id=${resource.id})}"
                               class="layui-btn layui-btn-radius">编辑
                            </a>
                            <a href="#" th:href="@{/admin/resources/{id}/delete(id=${resource.id})}"
                               onclick="return confirm('确定删除该资源？')"
                               class="layui-btn layui-btn-radius layui-btn-danger">删除
                            </a>
                        </td>
                    </tr>
                    </tbody>
                    <tfoot>
                    <tr>
                        <th colspan="6">
                            <div class="btn btn-group">
                                <div class="nav-pills text-center three" align="center">
                                    <a class="item btn btn-secondary" th:href="@{/admin/resources(page=${pageInfo.hasPreviousPage} ? ${pageInfo.prePage}:1)}"
                                       th:unless="${pageInfo.isFirstPage}">上一页</a>
                                </div>
                                <div class="nav-pills text-center three" align="center">
                                    <a class="item btn btn-secondary" th:href="@{/admin/resources(page=${pageInfo.hasNextPage} ? ${pageInfo.pages})}"
                                       th:unless="${pageInfo.isLastPage}">下一页</a>
                                </div>
                            </div>
                        </th>
                    </tr>
                    </tfoot>
                </table>
            </div>
            <div class="layui-footer">
                <!-- 底部固定区域 -->
                <p class="text-center">Copyright©2020-2021
                    <a href="" target="_blank" rel="nofollow" style="color: #B4BF42">湘ICP</a>
                    <a href="" target="_blank" rel="nofollow" style="color: #B4BF42"><img src="" alt="">湘公网</a>
                </p>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
<script src="../../lib/layui-v2.6.8/layui/layui.js"></script>
<script>
    $('#blog-message').load(/*/footer/blogmessage*/"/footer/blogmessage");

    $('.menu.toggle').click(function () {
        $('.m-item').toggleClass('m-mobile-hide');
    });

    $('.ui.dropdown').dropdown({
        on: 'hover'
    });

    //消息提示关闭初始化
    $('.message .close')
        .on('click', function () {
            $(this)
                .closest('.message')
                .transition('fade');
        });

</script>
</body>
</html>